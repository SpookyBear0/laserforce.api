language: python
python:
  - "3.6"
  - "3.7"
  - "3.8"
install:
  - pip install -r requirements.txt
  - pip install -U tox
script:
  - tox
notifications:
  webhooks:
    urls:
      - https://discord.com/api/webhooks/733245134413758504/0CwNlnkU1ExukpIjvEhn5pPh4limmsbPQ3di1SRMI4QYuWLR8rzZ-SiU2CHMLeS9mikW
    on_success: always
    on_failure: always
    on_start:   always
    on_cancel:  always
    on_error:   always
    template:
      if "%{result}" == 1:
        - "[%{repository_name}] Travis CI checks success on %{branch}"
        - "Build details: %{build_url}"
      if "%{result}" == 0:
        - "[%{repository_name}] Travis CI checks failed on %{branch}"
        - "Build details: %{build_url}"